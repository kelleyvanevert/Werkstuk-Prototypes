\documentclass[11pt,oneside,parskip=half]{scrbook}
\usepackage[a4paper]{geometry}

\usepackage[dutch]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

\usepackage{amsmath}
\usepackage{amssymb}

%\usepackage{pxfonts}
\usepackage{millennial}
%\usepackage{newcent}
%\usepackage[utopia]{mathdesign}

\usepackage{tabularx}% tables: equal width columns
\usepackage{multirow}% tables: rowspan
\usepackage{booktabs}% tables: \toprule, \bottomrule, ...
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{xargs}
\usepackage{enumitem}

\usepackage{environ}

\usepackage{bussproofs}
  \def\extraVskip{4pt} % Iets meer verticale ruimte
  % De volgende commands gebruik ik om op een simpele manier (1) de toegepaste regel aan de rechterkant van de deductieregel te laten zien, en (2) een automatische nummering aan de linkerkant te laten zien.
  % Normaal gesproken gebruik je \RightLabel en \LeftLabel, maar nu gebruik ik dus: \Label (enkel een label) en \CountedLabel (label en automatische nummering)
  % Terugzetten op 1 kan met "\setcounter{theLabel}{1}", bijvoorbeeld bij een nieuwe boom
  \newcounter{theLabel}
  \setcounter{theLabel}{1}
  \newcommand{\Label}[1]{
    \RightLabel{\small #1}
  }
  \newcommand{\CountedLabel}[1]{
    \RightLabel{\small #1}
    \LeftLabel{\scriptsize \arabic{theLabel}}
    \addtocounter{theLabel}{1}
  }
  % Op een of andere manier moet je in je deductiebomen, de states gaan aangeven. Ik doe dit met doosjes, waarin net genoeg staat dat je iets intuitiever kunt zien wat welke state is, en wat er allemaal in zit.
  \newcommand{\stateBox}[1]{%
    \boxed{\mathit{\vphantom{f}#1}}
  }
  \newcommand{\emptyStateBox}{\stateBox{\phantom{f}}}

\usepackage{tikz}
\usetikzlibrary{calc}
\tikzstyle{every picture}=[thick]

\usepackage{listings}
\lstdefinelanguage{proto}
  {keywords={var, obj, clones, fun, returns, is,
             print, skip,
             if, then, else, while, do},
   emph={true, false, this, proto},
   %literate={==}{{$=$}}1 {/=}{{$\neq$}}1 {<=}{{$\leq$}}1 {>=}{{$\geq$}}1
   %         {+}{{$+$}}1 {-}{{$-$}}1 {*}{{$\times$}}1 {/}{{$/$}}
   %         {&}{{$\wedge$}}1 {|}{{$\vee$}}1 {~}{{$\lnot$}}1,
   comment=[l]{\#}}
\lstdefinelanguage{io}
  {keywords={clone, method, block, call, return,
             print, println,
             if, then, else, elsif,
             loop, repeat, while, for, break, continue},
   emph={true, false, nil, self, super},
   comment=[l]{\#}}
\lstdefinelanguage{class}[]{proto}
  {morekeywords={extends},
   deletekeywords={clones},
   moreemph={super},
   deleteemph={proto}}
\lstnewenvironment{program}{}{}
\lstMakeShortInline @
\lstset
  {language=proto,
   basicstyle=\small\ttfamily,
   emphstyle=\scshape,
   numbers=left,
   numberstyle=\small,
   numbersep=1em,
   mathescape=true,
   extendedchars=true}

\usepackage[nounderscore]{syntax}
\setlength{\grammarindent}{8em}
\renewcommand{\syntleft}{\normalfont\itshape}
\renewcommand{\syntright}{}

\newcommand\newkeyword[2]
  {\newcommand{#1}
     {\raisebox{.3pt}{\text{\scalebox{.95}{\small\ttfamily\bfseries #2}}}}}
\newcommand\newconstant[2]{\newkeyword{#1}{#2}}
\newcommand{\newnonterminal}[2]
  {\newcommand{#1}
    {\textit{#2}}}
\newcommand{\newsemanticset}[2]
  {\newcommand{#1}
    {\ensuremath{\mathbb{#2}}}}

\newcommand{\syn}[1]
  {\ensuremath{\mathit{#1}}}

\newcommand{\COMP}{;\;}
\newkeyword{\VAR}{local\;}
\newkeyword{\OBJ}{obj\;}
\newkeyword{\CLONES}{\;clones\;}
\newkeyword{\OBJECT}{\;object}
\newkeyword{\FUN}{function\;}
\newkeyword{\RETURNS}{\;returns\;}
\newkeyword{\IS}{\;is\;}
\newkeyword{\PRINT}{print\;}
\newkeyword{\SKIP}{skip}
\newkeyword{\IF}{if\;}
\newkeyword{\THEN}{\;then\;}
\newkeyword{\ELSE}{\;else\;}
\newkeyword{\WHILE}{while\;}
\newkeyword{\DO}{\;do\;}
\newkeyword{\END}{\;end}

\newconstant{\TRUE}{true}
\newconstant{\FALSE}{false}
\newconstant{\SELF}{self}
\newconstant{\THIS}{this}
\newconstant{\PROTO}{proto}

\newnonterminal{\Stm}{Stm}
\newnonterminal{\Id}{Id}
\newnonterminal{\Slot}{Slot}
\newnonterminal{\Expr}{Expression}
\newnonterminal{\B}{B}

\newsemanticset{\sM}{M}
\newsemanticset{\sL}{L}

\def\IN{\quad}

\def\I{\textit}

\newcommand{\<}
  {\ensuremath{\langle}}
\renewcommand{\>}
  {\ensuremath{\rangle}}

\frenchspacing% Cruciaal!
\raggedbottom% Handig

\newcounter{SyntaxExampleNum}
\newenvironment{SyntaxExample}{%
\addtocounter{SyntaxExampleNum}{1}%
\setcounter{SyntaxExampleLineNo}{0}%
\vspace{-1.6pc}%
	\begin{equation*}%
		\begin{array}{l@{\hspace*{.02\textwidth}}|@{\hspace*{.02\textwidth}}l}%
		\hspace*{.35\textwidth} & \hspace*{.55\textwidth} \\[-1pc]%
}{%
		\end{array}%
	\end{equation*}%
\vspace{-.6pc}%
}

\newcounter{SyntaxExampleLineNo}
\newcommand{\N}{%
  \addtocounter{SyntaxExampleLineNo}{1}%
  \text{\color{gray} \scriptsize \Alph{SyntaxExampleNum}.\arabic{SyntaxExampleLineNo}}\;\;%
}

% todo if second param empty? then don't display scalebox etc..
\newcommand{\AxiomOrInference}[2]{%
  \renewcommand{\arraystretch}{1.2}%
  \begin{minipage}{\textwidth}% prevent page break
    #1% = \begin{prooftree} ... \end{prooftree}
    \vspace*{-.5pc}%
    \hspace*{.45\textwidth}% ideally: .5\textwidth - 1/2 "desda\quad"
    \scalebox{.85}{%
      #2%
    }%
  \end{minipage}%
}

\NewEnviron{NSAxiom}[1]{%
  \renewcommand{\arraystretch}{1.2}%
  \begin{minipage}{\textwidth}% prevent page break
  \BODY%
  \end{minipage}%
}
\NewEnviron{NSConditions}{%
  \vspace*{-.5pc}%
  \hspace*{.45\textwidth}% ideally: .5\textwidth - 1/2 "desda\quad"
  \scalebox{.85}{%
    \begin{tabular}{@{}r@{\quad}l@{}}%
      \textbf{desda} \BODY%
    \end{tabular}%
  }%
}
\newcommand{\Cond}[1]{%
  & #1 \\
}

\newcommand{\surrAngle}[1]{\ensuremath{\big<\,#1\,\big>}}
\newcommand{\surr}[1]{\ensuremath{\big[\,#1\,\big]}}
\newcommand{\Surr}[1]{\ensuremath{\big[\!\big[\,#1\,\big]\!\big]}}

% configuration: " <S, m, \sigma, \tau> "
%\newcommand{\Config}[2]{\left<#1, #2\right>}%  -- normaal
%\newcommand{\Config}[2]{\surr{#1}_{#2}}%       -- [ ]m,s,t
\newcommand{\Config}[2]{\surrAngle{#1}_{#2}}%  -- < >m,s,t

\def\BOT{\rotatebox{90}{$\Vdash$}}

\def\DEF{\buildrel{\text{def}}\over{=}}
\def\Proto{\sqsubset^p}
\def\Outer{\sqsubset^s}
\def\ProtoEq{\sqsubseteq^p}
\def\OuterEq{\sqsubseteq^s}
\def\Attr{\textit{attr}}
\def\SDef{\textit{def}}
\newcommand{\ScopeID}[1]{\ensuremath{(1, #1)}}
\newcommand{\ObjectID}[1]{\ensuremath{(2, #1)}}

\title{Een natuurlijke semantiek voor prototype oververing en lexicaal bereik}
\author{Kelley van Evert \& Tim Steenvoorden}

\begin{document}

\maketitle

\frontmatter

\tableofcontents

\mainmatter

\input{inleiding.chapter.tex}
\input{notatie-en-terminologie.chapter.tex}
\input{taal-en-syntax.chapter.tex}
\input{semantisch-model.chapter.tex}
\input{natuurlijke-semantiek.chapter.tex}
\input{case-study.chapter.tex}

\backmatter

\end{document}

% vim: ft=context
